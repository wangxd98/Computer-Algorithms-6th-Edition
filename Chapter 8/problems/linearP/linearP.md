# 线性规划

### ★ 问题描述

线性规划问题可表示为如下形式：

$$\begin{aligned}&\max\sum_{j=1}^nc_jx_j\\&\sum_{t=1}^na_{it}x_t\leq  b_i\quad(i{=}1,2,\cdots,m_1)\\&\sum_{t=1}^na_{jt}x_t=b_j\quad(j{=}m_1{+}1,\cdots,m_1{+}m_2)\\&\sum_{t=1}^na_{kt}x_t\geq b_k\quad(k{=}m_1{+}m_2{+}1,\cdots,m_1{+}m_2{+}m_3)\\&x_t\geq 0\quad(t=1,2,\cdots,n)\end{aligned}$$

上面各式中，$x_1,x_2,\cdots,x_n$是 $n$ 个独立变量。式中 $\displaystyle\sum_{j=1}^nc_jx_j$是线性规划问题的目标函数。$\max$ 是 maximize 的缩写，表示求极大值。求目标函数极小值  $\min$  的线性规划问题表示也是类似的，且容易转换为与之等价的求目标函数极大值的线性规划问题。

线性规划问题的约束条件为：有 $m_1$ 个 $\leq$  不等式约束，有  $m_2$ 个等式约束，有 $m_3$ 个 $\geq$ 不等式约束，约束总个数为 $m=m_1+m_2+m_3$。约束条件中的系数 $a_i$ 可正可负，也可以是零。所有约束的右端项规定为非负数，即 $b_i\geq 0, i=1,2,\cdots,m$。

线性规划问题的一个具体例子如下：

$$\begin{aligned}&\max z=x_1+x_2+3x_3-x_4\\&x_1+2x_3\leq 18\\&2x_2-7x_4\leq 0\\&x_1+x_2+x_3+x_4=9\\&x_2-x_3+2x_4\geq 1\\&x_i\geq 0\quad(i=1,2,3,4)\end{aligned}$$

此例中，$n=4,m_1=2,m_2=m_3=1,m=m_1+m_2+m_3=4$。

这个问题的解为 $(x_1,x_2,x_3,x_4)=(0,3.5,4.5,1)$，其最优值为 16。

### ★ 算法设计

对于给定的线性规划问题，计算出其最优解。

### ★ 数据输入

输入文件名为clp.in。

每个文件有多组测试数据。每组测试数据的第一行有3个整数 $x, m, n$，其中，$x$ 为 1 时，表示求目标函数的最大值，$x$ 为 -1 时，表示求目标函数最小值。$m$ 表示约束个数， $n$ 表示变量个数。$m$ 和 $n$ 满足 $m\leq 2500, n\leq 50$。
第二行有3个整数 $m_1, m_2, m_3$，分别表示 $\leq$  约束个数，等式约束个数，和  $\geq$  约束个数。接下来的 $m$ 行，按照 $m_1, m_2, m_3$ 的顺序，每行依次给出约束条件，其中，前 $n$ 个数是系数 $a_i$，第 $n+1$ 个数是右端参 $b_i$。每组测试数据的最后一行给出目标函数系数 $c_i$。

### ★ 结果输出

输出文件名为clp.out。

依次输出每组测试数据给出的线性规划问题的最优值，保留2位小数。当问题无解时输出6个 $*$ 号,即  $******$。

**输入示例**  

```
1 4 4
2 1 1
1 0 2 0 18
0 2 0 -7 0
1 1 1 1 9
0 1 -1 2 1
1.5 1.5 3 -1 
-1 3 6
0 0 3
1 1 1 0 0 0 180
0 1 1 1 1 0 110
0 0 1 0 1 1 530
1 11 5 3 4 2 
```

**输出示例**  

```
17.75
1460.00
```

















