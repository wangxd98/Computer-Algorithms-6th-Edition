# 最小逃脱问题

### ★ 问题描述

逃脱问题示例如图所示。这是一个由 $m$ 行 $n$ 列的结点组成的栅格状无向图。用 $(i,j)$ 表示位于第 $i$ 行第 $j$ 列的结点。满足 $i=1$ 或 $i=m$ 或 $j=1$ 或 $j=n$ 的结点 $(i,j)$ 是边界结点，其他结点为内部结点。每个内部结点处都有 4 个其他结点与其相邻。对于栅格中 $k$ 个给定的起始点 $(x_1,y_1),(x_2,y_2), \cdots,(x_k,y_k)$ ，逃脱问题要求确定是否存在从这 $k$ 个起始点开始，到栅格边界的 $k$ 条不相交的路径。例如，图 (a) 的栅格有一个逃脱，而图 (b) 的栅格就没有逃脱。设每条栅格边的长度为1。最小逃脱问题要求在所给栅格的所有逃脱中，找出逃脱路径总长度最短的一个逃脱。图 (c) 中的逃脱是一个最小逃脱。

<img title="" src="file:///G:/escape/esc1.jpg" alt="" data-align="center" width="403">

### ★ 算法设计

对于给定的由 $m$ 行 $n$ 列的结点组成的栅格图，以及栅格中 $k$ 个给定的起始点

 $(x_1,y_1),(x_2,y_2), \cdots,(x_k,y_k)$ ，在其所有逃脱中，找出逃脱路径总长度最短的逃脱。

### ★ 数据输入

输入文件名为esc.in。

每个文件有多组测试数据。每组测试数据的第 1 行有 3 个整数 $m,n,f$。表示给定的栅格图有 $m$ 行，$n$ 列，和 $f$ 个起始点。接下来的 $f$ 行中，每行有 2 个整数 $x,y$，表示相应起始点所占据的栅格点位置是 $(x,y)$。

其中数据满足：$1\leq m,n\leq 50$，$1\leq m*n\leq 1005$。

### ★ 结果输出

输出文件名为esc.out。

依次输出计算出的最小逃脱路径总长度。如果不存在逃脱路径，则输出-1。

**输入示例**  

```
6 6 10
2 2
2 4
2 6
3 1
3 2
3 4
3 6
4 2
4 4
4 6
6 6 11
2 2
2 4
2 6
3 1
3 2
3 4
3 5
3 6
4 2
4 4
4 6
```

**输出示例**  

```
11
-1
```
